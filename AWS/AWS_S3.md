# S3(Simple Storage Service) : 대표적인 이미지 서버, 호스팅 서버

### S3에는 DB설치 불가능

```
사용 여부 :
    1. 이미지, 영상 전용 서버로 많이 사용
    2. 백업 서버로 많이 사용
    3. 웹 호스팅 서버로 사용 => 정적 웹만 호스팅 가능
    (호스팅 : 빌린다 라는 뜻)
        3-1) 의미 : S3를 임대해서 내HTML을 S3에 업로드 하겠다.

특징 :
    1. 저장공간 무한
가격 :
    1. 시간당 저장 용량만큼 가격을 측정
    2. 5GB 이하는 1년간 공짜(5GB 이상이면 금액 지불)
디폴트 :
    1. S3는 디폴트로 이미지,동영상,pdf 등을 업로드 하는 공간이기 때문에 *속성에 들어가
        정적 웹 사이트 호스팅에 들어가 정적 웹 호스팅을 활성화 시켜주어야한다.

    2. 모든 사람들이 볼 수 있게 *권한에 들어가서 퍼블릭으로 설정해주어야한다.
        방법 : 퍼블릭 액세스 차단(버킷 설정) -> 편집을 클릭해 차단을 풀어주고 활성화를 시킨뒤 확인을 입력해주면 된다.
```

## 버킷 만들기 순서

```
1. 버킷 : 버킷페이지 -> 버킷만들기 클릭 -> 버킷 이름 설정(ex) geunhwan.io) -> 아래로 스크롤 버킷만들기 클릭
2. 속성 : 버킷 들어가 속성 클릭-> 아래로 스크롤 정적 웹 사이트 호스팅 편집 클릭 -> 활성화 -> 인덱스 문서
         -> 기본으로 설정할 페이지 html파일 이름 설정(html파일 이름과 동일하는게 좋다.) -> 변경 사항 저장 클릭
3. 권한 :
        3-1) 퍼블릭 액세스 차단(버킷 설정) 편집 클릭 -> '모든 퍼블릭 액세스 차단' checked 해제 -> 변경사항 저장 클릭
        3-2) 버킷정책 편집 클릭 -> 버킷 ARN 복사 -> 정책 생성기 클릭 ->
             'Select Type of Policy' : S3 Bucket Policy 선택 -> Principal : * 입력 -> Actions : GetObject 선택 ->
             Amazon Resource Name (ARN)에 버킷 ARN 붙여넣기 +  /*  입력 -> Add Statement 클릭 -> Generate Policy 클릭 ->
             복사 후 S3 버킷정책 편집 페이지에 붙여넣기 -> 변경 사항 저장 클릭

```

<img src="./image/버킷 정책 편집.PNG" width= 800px; alt="" />
<img src="./image/정책 생성기.PNG" width= 800px; alt="" />

## 정적 웹 & 동적 웹

```
- 정적 웹 : HTML,JS,JQuery

- 동적 웹 : (웹 프레임워크 + 템플릿엔진)
            Spring boot   +     JSP

정적 웹과 동적 웹의 차이점 :
    1. DB를 연동할 수 있는지 여부(동적 웹 : 연동O , 정적 웹 : 연동X)
```

# AWS S3 과정

## 1. 버킷만들기 클릭
![01](/AWS/img/01.JPG)

## 2. 버킷 이름 = 내가 할 도메인 주소 입력
![02](/AWS/img/02.JPG)
ex) stopu.com / .io / .pro / .net ...    

## 3. 이름(stopu.io) 클릭
![03](/AWS/img/03.JPG)

## 4. 속성 -> 스크롤 마지막 정적 웹 사이트 호스팅
![09](/AWS/img/09.JPG)
![11](/AWS/img/11.PNG)

## 5. 인덱스 문서 항목에 내가 올릴 html파일의 이름과 동일하게 작성
![12](/AWS/img/12.PNG)
## 6. 권한 -> 퍼블릭 엑세스 차단(버킷 설정) 클릭
![04](/AWS/img/04.JPG)

## 7. 체크박스 전체 해제
![05](/AWS/img/05.JPG)
![06](/AWS/img/06.JPG)

## 8. 버킷 정책에서 편집 클릭
![07](/AWS/img/07.JPG) 


## 9. 밑에 버킷정책 복사 후 도메인주소에 2번에서 만든 도메인 입력
![08](/AWS/img/08.JPG)
- 버킷정책
```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:*",
            "Resource": "arn:aws:s3:::도메인주소/*"
        }
    ]
}
```
## 10. 속성 클릭
![09](/AWS/img/09.JPG)

## 11. 스크롤 끝에 주소 생성 됨
![10](/AWS/img/10.JPG)

---